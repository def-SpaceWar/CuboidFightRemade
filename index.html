<!DOCTYPE html>

<html lang="en">

<head>

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Cuboid Fight Remade</title>

    <link rel="stylesheet" href="static/css/style.css">

</head>

<body>

    <input id="idk" />

    <center>
        <h1>Cuboid Fight!</h1>
        <h6>Remade</h6>
    </center>

    <div id="game">
        <canvas id="canvas" width="1200" height="600">

            If you can see this:
            You need to stop using a browser from the dark ages.
            :>
            <!-- You can only see this if your browser no support html canvas -->

        </canvas>

        <p class="invis" style="height: 600px;">To access settings you type "idk" in the random input at the top and "no" to make it disappear!</p>

        <div id="console">
            <h1>Console:</h1>
        </div>
    </div>

    <div id="settings">
        <h1>Settings</h1>
        <p>You have accessed the super secret settings!</p>

        <div style="column-count: 4; width: 1120px;">
            <div class="classes">
                <h3>Classes</h3>
                <p>There are only 5 classes:</p>

                <ul>
                    <li>Default</li>
                    <li>Beserk</li>
                    <li>Tank</li>
                    <li>Ninja</li>
                    <li>Warrior</li>
                </ul>

                <span>Player 1 Class: <input id="player1class" /></span>
                <br />
                <br />
                <span>Player 2 Class: <input id="player2class" /></span>
                <br />
                <br />
                <span>Player 3 Class: <input id="player3class" /></span>
                <br />
                <br />
                <span>Player 4 Class: <input id="player4class" /></span>
            </div>

            <div class="enabled">
                <h3>Enable/Disable Players</h3>

                <ul>
                    <li>Player 1: <input id="player1enable" type="checkbox" /></li>
                    <li>Player 2: <input id="player2enable" type="checkbox" /></li>
                    <li>Player 3: <input id="player3enable" type="checkbox" /></li>
                    <li>Player 4: <input id="player4enable" type="checkbox" /></li>
                </ul>
            </div>

            <div>
                <div class="p1controls">
                    <h3>Player 1 Controls</h3>

                    <span>Left: <input id="player1left" placeholder="ArrowLeft" /></span>
                    <br />
                    <br />
                    <span>Up: <input id="player1up" placeholder="ArrowUp" /></span>
                    <br />
                    <br />
                    <span>Down: <input id="player1down" placeholder="ArrowDown" /></span>
                    <br />
                    <br />
                    <span>Right: <input id="player1right" placeholder="ArrowRight" /></span>
                    <br />
                    <br />
                    <span>Attack: <input id="player1attack" placeholder="/" /></span>
                </div>

                <div class="p2controls">
                    <h3>Player 2 Controls</h3>

                    <span>Left: <input id="player2left" placeholder="a" /></span>
                    <br />
                    <br />
                    <span>Up: <input id="player2up" placeholder="w" /></span>
                    <br />
                    <br />
                    <span>Down: <input id="player2down" placeholder="s" /></span>
                    <br />
                    <br />
                    <span>Right: <input id="player2right" placeholder="d" /></span>
                    <br />
                    <br />
                    <span>Attack: <input id="player2attack" placeholder="q" /></span>
                </div>
            </div>

            <div>
                <div class="p3controls">
                    <h3>Player 3 Controls</h3>

                    <span>Left: <input id="player3left" placeholder="v" /></span>
                    <br />
                    <br />
                    <span>Up: <input id="player3up"  placeholder="g" /></span>
                    <br />
                    <br />
                    <span>Down: <input id="player3down" placeholder="b" /></span>
                    <br />
                    <br />
                    <span>Right: <input id="player3right" placeholder="n" /></span>
                    <br />
                    <br />
                    <span>Attack: <input id="player3attack" placeholder="' ' (spacebar)" /></span>
                </div>

                <div class="p4controls">
                    <h3>Player 4 Controls</h3>

                    <span>Left: <input id="player4left" placeholder="4" /></span>
                    <br />
                    <br />
                    <span>Up: <input id="player4up" placeholder="8" /></span>
                    <br />
                    <br />
                    <span>Down: <input id="player4down" placeholder="5" /></span>
                    <br />
                    <br />
                    <span>Right: <input id="player4right" placeholder="6" /></span>
                    <br />
                    <br />
                    <span>Attack: <input id="player4attack" placeholder="7" /></span>
                </div>
            </div>
        </div>

        <br />

        <button onclick="setOptions();">Save</button>

        <script type="text/javascript">
         // Use localStorage to set all the players'
         // classes, modifiers, (very far future cosmetics)
         // and colors.

         const classes = [
             document.getElementById("player1class"),
             document.getElementById("player2class"),
             document.getElementById("player3class"),
             document.getElementById("player4class"),
         ];

         const enabled = [
             document.getElementById("player1enable"),
             document.getElementById("player2enable"),
             document.getElementById("player3enable"),
             document.getElementById("player4enable"),
         ];

         const controls = [];

         for (let i = 1; i <= 4; i++) {
             controls.push(document.getElementById(`player${i}left`));
             controls.push(document.getElementById(`player${i}up`));
             controls.push(document.getElementById(`player${i}down`));
             controls.push(document.getElementById(`player${i}right`));
             controls.push(document.getElementById(`player${i}attack`));
         }

         classes.map((i) => {
             i.value = localStorage.getItem(i.id);
         });

         enabled.map((i) => {
             if (localStorage.getItem(i.id) == "false") i.checked = false;
             else i.checked = true;
         });

         controls.map((i) => {
             i.value = localStorage.getItem(i.id) || "";
         });

         function setOptions() {
             classes.map((i) => {
                 localStorage.setItem(i.id, i.value);
             });

             enabled.map((i) => {
                 localStorage.setItem(i.id, i.checked);
             });

             controls.map((i) => {
                 if (i.value != "") {
                     localStorage.setItem(i.id, i.value);
                 } else {
                     localStorage.removeItem(i.id);
                 }
             });
         }
        </script>
    </div>

    <script src="globals.js"></script>
    <script src="lib/ScreenObject.js"></script>
    <script src="lib/TextObject.js"></script>
    <script src="lib/Button.js"></script>
    <script src="lib/Platform.js"></script>
    <script src="lib/Player.js"></script>
    <script src="lib/PowerUpBox.js"></script>
    <script src="maps.js"></script>
    <script src="index.js"></script>
</body>

</html>
